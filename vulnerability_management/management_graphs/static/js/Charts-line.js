
function Line_Chart(data){

Highcharts.chart('container', {
    chart: {
        type: 'line'
    },
    title: {
        text: 'All Vulnerabilities'
    },
    subtitle: {
        text: 'Subtitle'
    },
    xAxis: {
        type: 'datetime',
    },
    yAxis: {
        title: {
            text: 'Values'
        }
    },
    // plotOptions: {
    //     line: {
    //         dataLabels: {
    //             enabled: true
    //         },
    //         enableMouseTracking: false
    //     }
    // },
    series: [{
        name: 'Sql_injection',
        data: data["data_Sql_injection"]
    }, {
        name: 'Linux_vul',
        data: data['data_Linux_vul']
    }
    , {
        name: 'Windows_vull',
        data: data['data_Windows_vull']
    }
    , {
        name: 'Code_injection',
        data: data['data_Code_injection']
    }]
});

}

function fetchData(){
  console.log("is fatching one time" );
  var url = $("#Json_data_All").attr("data-url");

  fetch(url)
      .then(response => response.json())
      .then(data => { Line_Chart(data) })
      .catch(e => console.console.error(e))

}

fetchData()
